#include <stdio.h>
#include <stdlib.h>

#define DEP 2
#define ROW 2
#define COL 3

int main() {
  /* MATRIZ DINÂMICA 3D
                        COLUNAS
        <-------------------------------------->
        +------------+------------+------------+      *
       /            /            /            /|      |
      /            /            /            / |      |
     +------------+------------+------------+  |      |
    /            /            /            /|  |      |
   /            /            /            / |  +      | LINHAS
  +------------+------------+------------+  | /|      |
  |            |            |            |  |/ |      |
  |            |            |            |  +  |      |
  |            |            |            | /|  |      |
  |            |            |            |/ |  +      *  *
  +------------+------------+------------+  | /         /
  |            |            |            |  |/         /
  |            |            |            |  +         /   PROFUNDIDADE 
  |            |            |            | /         /
  |            |            |            |/         /
  +------------+------------+------------+         *

  2. Alocação Dinâmica (HEAP)

  int ***m = NULL;  <=> ponteiro de ponteiro de ponteiro de int
                        |------1ª MATRIZ (FATIA [0])----------|
                                              COLUNAS (int)
                                            [0]    [1]   [2]
                                          +-----+-----+-----+
                      LINHAS (int*)      |     |     |     |  
                          +-----+  =>   +-----+-----+-----+ 
                     [0] |     |          [0]    [1]   [2]
                         +-----+        +-----+-----+-----+
    FATIAS (int**)  [1] |     |        |     |     |     |
          +-----+  =>   +-----+  =>   +-----+-----+-----+
      [0] |     |    
  m =     +-----+
      [1] |     |                         [0]    [1]   [2]
          +-----+  =>   +-----+   =>    +-----+-----+-----+ 
                  [0]  |     |         |     |     |     |
                      +-----+         +-----+-----+-----+ 
                 [1] |      |          [0]    [1]   [2]   
                     +-----+    =>   +-----+-----+-----+ 
                                    |     |     |     |
                                   +-----+-----+-----+ 

              |------2ª MATRIZ (FATIA [1])----------|
  */

  /* **************** ALOCAÇÃO DINÂMICA ******************* */
  /* ****************************************************** */

  int ***m = (int ***)calloc(DEP, sizeof(int **));

  // FATIAS
  for (int k = 0; k < DEP; k++) {
    m[k] = (int **)calloc(ROW, sizeof(int *));

    // COLUNAS
    for (int i = 0; i < ROW; i++) {
      m[k][i] = (int *)calloc(COL, sizeof(int));
    }
  }

  /* ****************************************************** */
  /* ****************************************************** */

  int count = 0;

  printf("&m = %p, m = %p\n\n", &m, m); // &m = 0x7ffff05ed850, m = 0x58a9f52502a0  <== m***

  for (int k = 0; k < DEP; k++) {
    printf("&m[%d] = %p, m[%d] = %p\n", k, &m[k], k, m[k]);

    for (int i = 0; i < ROW; i++) {
      printf("&m[%d][%d] = %p, m[%d][%d] = %p\n", k, i, &m[k][i], k, i, m[k][i]);

      for (int j = 0; j < COL; j++) {
        m[k][i][j] = count++;

        printf("&m[%d][%d][%d] = %p, m[%d][%d][%d] = %d\n", k, i, j, &m[k][i][j], k, i, j, m[k][i][j]);
        /*
        &m[0] = 0x58a9f52502a0, m[0] = 0x58a9f52502c0           <== FATIA

        &m[0][0] = 0x58a9f52502c0, m[0][0] = 0x58a9f52502e0     <== LINHA
        &m[0][0][0] = 0x58a9f52502e0, m[0][0][0] = 0            <== COLUNAS
        &m[0][0][1] = 0x58a9f52502e4, m[0][0][1] = 1            <== COLUNA
        &m[0][0][2] = 0x58a9f52502e8, m[0][0][2] = 2            <== COLUNA


        &m[0][1] = 0x58a9f52502c8, m[0][1] = 0x58a9f5250300     <== LINHA
        &m[0][1][0] = 0x58a9f5250300, m[0][1][0] = 3            <== COLUNA
        &m[0][1][1] = 0x58a9f5250304, m[0][1][1] = 4            <== COLUNA
        &m[0][1][2] = 0x58a9f5250308, m[0][1][2] = 5            <== COLUNA

        ...................................................................

        &m[1] = 0x58a9f52502a8, m[1] = 0x58a9f5250320           <== FATIA

        &m[1][0] = 0x58a9f5250320, m[1][0] = 0x58a9f5250340     <== LINHA
        &m[1][0][0] = 0x58a9f5250340, m[1][0][0] = 6            <== COLUNA
        &m[1][0][1] = 0x58a9f5250344, m[1][0][1] = 7            <== COLUNA
        &m[1][0][2] = 0x58a9f5250348, m[1][0][2] = 8            <== COLUNA


        &m[1][1] = 0x58a9f5250328, m[1][1] = 0x58a9f5250360     <== LINHA
        &m[1][1][0] = 0x58a9f5250360, m[1][1][0] = 9            <== COLUNA
        &m[1][1][1] = 0x58a9f5250364, m[1][1][1] = 10           <== COLUNA
        &m[1][1][2] = 0x58a9f5250368, m[1][1][2] = 11           <== COLUNA
        */
      }

      puts("");
    }

    puts("");
  }  

  // Falta desalocar a Matriz 3D Dinâmica

  return 0; 
}
